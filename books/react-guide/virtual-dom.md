---
title: "virtual dom"
emoji: "📘"
type: "tech"
topics: ["react", "javascript", "frontend"]
published: false
---

# Reactにおける仮想DOMへの思想

## 前提
- 画画面に変更が発生するたびに、Reactは仮想DOMを新しく作り直す
  - Reactのコンポーネントは「常に最新の状態の画面」を返すという、考え方に基づいている。

## 仮想DOMを新しく作り直すとは
コードとして書いたReactのコンポーネントは、ユーザーの操作（ボタンクリックなど）やデータの変更が発生するたびに、現在の状態に基づいた新しい画面全体の「設計図」（仮想DOM）を最初から作り直すのです。

> 例)カウンターのコンポーネント
> 1. 最初の実行時は、`count:0`
> 2. クリックされると、`count:1`
> 3. `count`が更新されたため、`Counter`コンポーネント全体が再実行
> 4. すると、`count`が1なので`React.createElement`によって、  
>    `count`が1のボタンを表す新しい仮想DOMオブジェクトが作成される

## 何故「作り直すこと」が効率的なのか
- 開発者が「どうやってDOMを直接変更するか」を考える必要がなくなる